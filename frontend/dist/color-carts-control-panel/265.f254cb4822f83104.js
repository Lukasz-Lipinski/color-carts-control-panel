"use strict";(self.webpackChunkcolor_carts_control_panel=self.webpackChunkcolor_carts_control_panel||[]).push([[265],{8265:(U,_,e)=>{e.r(_),e.d(_,{UserDataComponent:()=>P});var l=e(4466),p=e(4004),u=e(3900),i=e(433),m=e(4960),t=e(8256),c=e(1596),D=e(182),h=e(8345),E=e(7012),v=e(5221);function f(r,n){}let P=(()=>{class r{constructor(s,a,o,d){this.toastService=s,this.authService=a,this.activatedRoute=o,this.cdr=d,this.disabledForms={disabledUserDataForm:!1,disabledPasswordForm:!1}}ngOnInit(){this.userData=this.activatedRoute.data.pipe((0,p.U)(({userData:s})=>s)),this.userForm=new i.cw({email:new i.NI("",{nonNullable:!0,validators:[i.kI.required]})})}onSaveUserData(s){this.disabledForms={...this.disabledForms,disabledUserDataForm:!0},this.authService.user$.pipe((0,u.w)(a=>this.authService.updateUserData({user:a,newData:s}))).subscribe({next:a=>{this.disabledForms={...this.disabledForms,disabledUserDataForm:!1},this.toastService.createComponent(this.toast,a),this.cdr.markForCheck()}})}onSaveNewPassword(s){this.disabledForms={...this.disabledForms,disabledPasswordForm:!0},this.authService.setNewPassword(s).subscribe({next:a=>{this.toastService.createComponent(this.toast,a),this.disabledForms={...this.disabledForms,disabledPasswordForm:!1},this.cdr.markForCheck()}})}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(c.k),t.Y36(D.e),t.Y36(h.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-data"]],viewQuery:function(s,a){if(1&s&&t.Gf(m._,5),2&s){let o;t.iGM(o=t.CRH())&&(a.toast=o.first)}},standalone:!0,features:[t.jDz],decls:6,vars:2,consts:[[1,"container-fluid","row","gap-1"],[1,"container","col-5","border","shadow","rounded-2","p-3"],[3,"disabled","userDataEmitter"],[3,"disabled","passwordEmitter"],["appToast",""]],template:function(s,a){1&s&&(t.TgZ(0,"section",0)(1,"div",1)(2,"app-update-user-data-from",2),t.NdJ("userDataEmitter",function(d){return a.onSaveUserData(d)}),t.qZA()(),t.TgZ(3,"div",1)(4,"app-password-form",3),t.NdJ("passwordEmitter",function(d){return a.onSaveNewPassword(d)}),t.qZA()()(),t.YNc(5,f,0,0,"ng-template",4)),2&s&&(t.xp6(2),t.Q6J("disabled",a.disabledForms.disabledUserDataForm),t.xp6(2),t.Q6J("disabled",a.disabledForms.disabledPasswordForm))},dependencies:[l.m,E.G,m._,v.b],changeDetection:0}),r})()}}]);