{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet PasswordFormComponent = class PasswordFormComponent {\n  constructor(passwordFormService) {\n    this.passwordFormService = passwordFormService;\n    this.passwordEmitter = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.passwordInputs = this.passwordFormService.getPasswordFields();\n    this.passwordForm = new FormGroup({\n      newPassword: new FormControl('', {\n        nonNullable: true,\n        validators: Validators.required\n      }),\n      oldPassword: new FormControl('', {\n        nonNullable: true,\n        validators: Validators.required\n      }),\n      confirmPassword: new FormControl('', {\n        nonNullable: true,\n        validators: [Validators.required]\n      })\n    });\n  }\n\n  comparePasswords() {\n    const {\n      confirmPassword,\n      newPassword\n    } = this.passwordForm.controls;\n    return confirmPassword.value !== '' && newPassword.value !== '' && confirmPassword.value === newPassword.value;\n  }\n\n  setInvalidClass(passInput) {\n    if (!this.comparePasswords() && this.passwordForm.controls[passInput.formControl].dirty && this.passwordForm.controls[passInput.formControl].touched) return 'is-invalid';\n    if (this.comparePasswords() && this.passwordForm.controls[passInput.formControl].dirty && this.passwordForm.controls[passInput.formControl].touched) return 'is-valid';\n    return '';\n  }\n\n  onSubmitPassword() {\n    this.passwordEmitter.emit(this.passwordForm.controls['newPassword'].value);\n  }\n\n  onToggleVisibility(control) {\n    this.passwordInputs.forEach(input => {\n      if (input.formControl === control) input.hidden = !input.hidden;\n    });\n  }\n\n};\n\n__decorate([Output()], PasswordFormComponent.prototype, \"passwordEmitter\", void 0);\n\nPasswordFormComponent = __decorate([Component({\n  selector: 'app-password-form',\n  templateUrl: './password-form.component.html',\n  styleUrls: ['./password-form.component.scss']\n})], PasswordFormComponent);\nexport { PasswordFormComponent };","map":null,"metadata":{},"sourceType":"module"}